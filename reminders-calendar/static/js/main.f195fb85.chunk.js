(this["webpackJsonpjobsity-calendar"]=this["webpackJsonpjobsity-calendar"]||[]).push([[0],{114:function(e,t,n){e.exports=n(255)},254:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(16),i=n(7),l=n(29),u=n(6),m=n(113),d=n(9),s=n(4),h=n.n(s),g=n(18),f=n.n(g),E=n(3),p=function(e,t){var n=new Date(t);return n.setDate(t.getDate()+e),n},b=function(e,t){for(var n,a,r=new Date(e,t,1),c=new Date(e,Number(t)+1,0),o=r.getDay(),i=c.getDay(),l=o>0?p(-o,r):new Date(r),u=i<6?p(6-i,c):new Date(c),m=[l],d=0;m.slice(-1).pop()<u;)m.push(p(++d,l));return n=7,a=m,Array.from({length:Math.ceil(a.length/n)},(function(e,t){return a.slice(t*n,t*n+n)}))},y=function(){var e=navigator.language||navigator.userLanguage||"en",t=new Date,n=p(-t.getDay(),t);return Array.from({length:7},(function(t,a){return p(a,n).toLocaleDateString(e,{weekday:"long"})}))}(),v=new Date,D=function(e){return e.getDate()===v.getDate()&&e.getMonth()===v.getMonth()&&e.getFullYear()===v.getFullYear()},w=function(e){var t=e.slice(0);/:/g.test(e)||(t=e+":00");var n=t.split(":"),a=Object(E.a)(n,2),r=a[0],c=void 0===r?"":r,o=a[1],i=void 0===o?"":o;return t=[c.padStart(2,"0"),i.padStart(2,"0")].join(":")},O=function(e){return e},M=function(e,t){var n=t.month;return Object(d.a)({},e,{month:n})},j=(a={},Object(u.a)(a,"calendar/PREV_MONTH",M),Object(u.a)(a,"calendar/NEXT_MONTH",M),Object(u.a)(a,"calendar/ADD_REMINDER",(function(e,t){var n=t.dayPath,a=t.reminder,r=h()([],n,e);return f()(Object,n,[].concat(Object(m.a)(r),[a]),e)})),Object(u.a)(a,"calendar/EDIT_REMINDER",(function(e,t){var n=t.dayPath,a=t.reminder,r=h()([],n,e).findIndex((function(e){return e.id===a.id}));return-1===r?e:f()(Object,"".concat(n,"[").concat(r,"]"),a,e)})),Object(u.a)(a,"calendar/DELETE_REMINDER",(function(e,t){var n=t.dayPath,a=t.id,r=h()([],n,e);return f()(Object,n,r.filter((function(e){return e.id!==a})),e)})),Object(u.a)(a,"calendar/CLEAN_REMINDERS",(function(e,t){var n=t.dayPath;return f()(Object,n,[],e)})),a),C=function(e,t){return h()(O,t.type,j)(e,t)},x={month:new Date,reminders:{}},R=Object(l.b)(C,x),N=n(31),k=n.n(N),S=n(32),T=n.n(S),F=function(e){var t=e.current,n=e.onSelect,a=["#97E5B7","#F9E9C7","#8CCCCF","#D870AB","#EFB292"],r=c.a.useState(t||a[0]),o=Object(E.a)(r,2),i=o[0],l=o[1];return c.a.useEffect((function(){n(i)}),[]),a.map((function(e){return c.a.createElement("button",{key:e,type:"button",style:{display:"inline-block",width:20,height:20,margin:5,backgroundColor:e,border:i===e?"1px solid black":"none"},onClick:function(){l(e),n(e)}},"\xa0")}))},I=navigator.language||navigator.userLanguage||"en",L=function(){},A=Object(i.b)(null,{addReminder:function(e){var t=e.date,n=void 0===t?new Date:t,a=e.reminder,r=new Date(n).getFullYear(),c=new Date(n).getMonth(),o=new Date(n).getDate();return a.time&&a.time.length&&(a.time=w(a.time)),a.text=a.text.slice(0,30),{type:"calendar/ADD_REMINDER",dayPath:"reminders.".concat(r,".").concat(c,".").concat(o),reminder:Object(d.a)({id:Math.random().toString(36).substr(2,9),date:new Date(n).toISOString()},a)}},editReminder:function(e){var t=e.reminder,n=t.date,a=new Date(n).getFullYear(),r=new Date(n).getMonth(),c=new Date(n).getDate();return t.time&&t.time.length&&(t.time=w(t.time)),t.text=t.text.slice(0,30),{type:"calendar/EDIT_REMINDER",dayPath:"reminders.".concat(a,".").concat(r,".").concat(c),reminder:t}}})((function(e){var t=e.reminder,n=e.addReminder,a=e.editReminder,r=e.onSave,o=void 0===r?L:r,i=c.a.useState(t),l=Object(E.a)(i,2),m=l[0],s=l[1],g=c.a.useState({loaded:!1,loading:!1,data:{}}),f=Object(E.a)(g,2),p=f[0],b=f[1],y=c.a.useState([]),v=Object(E.a)(y,2),D=v[0],w=v[1],O=t.id,M=new Date(t.date),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=864e5;return e.setHours(0,0,0,0),t.setHours(0,0,0,0),Math.ceil((e.getTime()-t.getTime())/n)}(M);c.a.useEffect((function(){j<0||j>15||O&&t.city&&(p.loaded||p.loading||(b(Object(d.a)({},p,{loading:!0})),function(e,t){var n="https://api.weatherbit.io/v2.0/forecast/daily?city=".concat(e,"&key=43d788ce256d446288f4443a81c5eda3");return fetch(n).then((function(e){return e.json()})).then((function(e){var n=h()({},"data[".concat(t,"]"),e),a=h()("","temp",n),r=h()("","weather.description",n),c=h()("","weather.icon",n);return{rh:n.rh,temp:a,tempUnit:"C",condition:r,icon:"https://www.weatherbit.io/static/img/icons/".concat(c,".png")}}))}(t.city,j).then((function(e){b({loading:!1,loaded:!0,data:e})}))))}),[O,j,p,t.date,t.city]);var C="^([0-9]{1,2})(:([0-9]{2}))?$",x=function(e){return function(t){w([]),s(Object(d.a)({},m,Object(u.a)({},e,t.target.value)))}},R=M.getTime();return c.a.createElement("form",{className:"reminder",onSubmit:function(e){e.preventDefault();var r=function(){var t=[];try{if((!m.text||m.text.length>30)&&t.push("Invalid text"),m.time&&m.time.length){var n=new RegExp(C).exec(m.time);(!n||Number(n[1])>23||Number(n[3])>59)&&t.push("Invalid time")}}catch(e){t.push("Something failed")}return t}();r.length?w(r):((O?a:n)({date:t.date,reminder:m}),w([]),o())},action:"#"},c.a.createElement("h2",null,O?"Edit reminder":"New reminder"),c.a.createElement("h3",null,M.toLocaleString(I,{weekday:"long",month:"long",day:"numeric"})),c.a.createElement("div",{className:k()("weather",{loaded:p.loaded})},p.loaded?c.a.createElement(c.a.Fragment,null,c.a.createElement("strong",null,"Weather forecast:"),c.a.createElement("p",null,"Temp: ",p.data.temp,"\xb0",p.data.tempUnit," \u2014 Hum: ",p.data.rh,"%"),c.a.createElement("p",null,p.data.condition),c.a.createElement("img",{src:p.data.icon,loading:"lazy",alt:p.data.condition})):p.loading?"Loading...":""),c.a.createElement("hr",null),D.map((function(e,t){return c.a.createElement("p",{key:t,style:{color:"red"}},e)})),c.a.createElement("label",{htmlFor:"#".concat(R,"-text")},"Text:",c.a.createElement("input",{autoComplete:"off",autoFocus:!0,maxLength:"30",id:"".concat(R,"-text"),type:"text",value:m.text||"",onChange:x("text")})),c.a.createElement("label",{htmlFor:"#".concat(R,"-time")},"Time:",c.a.createElement("br",null),c.a.createElement("small",{style:{color:"gray"}},"(format ",c.a.createElement("code",null,"HH:MM"),")"),c.a.createElement("input",{id:"".concat(R,"-time"),pattern:C,autoComplete:"off",maxLength:"5",type:"text",value:m.time||"",onChange:x("time")})),c.a.createElement("label",{htmlFor:"#".concat(R,"-city")},"City:",c.a.createElement("input",{id:"".concat(R,"-city"),type:"text",value:m.city||"",onChange:x("city")})),c.a.createElement("label",{htmlFor:"#".concat(R,"-color")},"Color:",c.a.createElement(F,{current:m.color,onSelect:function(e){return s(Object(d.a)({},m,{color:e}))}})),c.a.createElement("button",{type:"submit"},"Save"))})),_=Object(i.b)(null,{remove:function(e){var t=e.date,n=e.id,a=new Date(t).getFullYear(),r=new Date(t).getMonth(),c=new Date(t).getDate();return{type:"calendar/DELETE_REMINDER",dayPath:"reminders.".concat(a,".").concat(r,".").concat(c),id:n}}})((function(e){var t=e.reminder,n=e.remove,a=c.a.useState(!1),r=Object(E.a)(a,2),o=r[0],i=r[1],l=function(){return i(!1)};return c.a.createElement("span",{key:t.id},c.a.createElement("button",{title:"View/Edit",type:"button",style:{backgroundColor:t.color,textAlign:"left",margin:"0 3px 3px 0",fontSize:"0.7rem"},onClick:function(){return i(!o)}},t.time?t.time:""," ",t.text),c.a.createElement("button",{title:"Remove",type:"button",style:{fontSize:"0.5rem",backgroundColor:"crimson",padding:2},onClick:function(){return n(t)}},"\xd7"),c.a.createElement(T.a,{ariaHideApp:!1,isOpen:o,onRequestClose:l,contentLabel:"Minimal Modal Example",shouldCloseOnOverlayClick:!0},c.a.createElement("header",null,c.a.createElement("button",{onClick:l},"\xd7")),c.a.createElement(A,{reminder:t,onSave:l})))})),H=Object(i.b)((function(e,t){var n=t.date,a=n.getFullYear(),r=n.getMonth(),c=n.getDate();return{outOfMonth:r!==e.month.getMonth(),reminders:h()([],"reminders.".concat(a,".").concat(r,".").concat(c),e).sort((function(e,t){var n=!e.time||""===e.time,a=!t.time||""===t.time;if(n)return a?0:1;if(a)return-1;var r=new Date("1970-01-01T".concat(e.time,"Z")),c=new Date("1970-01-01T".concat(t.time,"Z"));return r.getTime()-c.getTime()}))}}),{cleanReminders:function(e){var t=new Date(e).getFullYear(),n=new Date(e).getMonth(),a=new Date(e).getDate();return{type:"calendar/CLEAN_REMINDERS",dayPath:"reminders.".concat(t,".").concat(n,".").concat(a)}}})((function(e){var t=e.date,n=e.outOfMonth,a=e.reminders,r=e.cleanReminders,o=c.a.useState(!1),i=Object(E.a)(o,2),l=i[0],u=i[1],m=function(){return u(!1)};return c.a.createElement("td",{className:k()("day",{outOfMonth:n,today:D(t)})},c.a.createElement("span",{className:"number"},t.getDate()),a.map((function(e){return c.a.createElement(_,{reminder:e,key:e.id})})),c.a.createElement("button",{title:"Add Reminder",className:"addReminder",onClick:function(){return u(!0)}},"+"),a.length>1&&c.a.createElement("button",{title:"Remove ALL",className:"cleanReminders",onClick:function(){if(window.confirm&&!window.confirm("Remove all reminders for this day. Are you sure?"))return;r(t)}},"\xd7"),c.a.createElement(T.a,{ariaHideApp:!1,isOpen:l,onRequestClose:m,shouldCloseOnOverlayClick:!0},c.a.createElement("header",null,c.a.createElement("button",{onClick:m},"\xd7")),c.a.createElement(A,{reminder:{date:new Date(t)},onSave:m})))})),P=function(e){var t=e.year,n=e.month,a=y.map((function(e){return c.a.createElement("th",{key:e,style:{textTransform:"capitalize"}},e)})),r=b(t,n).map((function(e){return c.a.createElement("tr",{key:e[0].getTime()},e.map((function(e){return c.a.createElement(H,{key:e.getTime(),date:e})})))}));return c.a.createElement("table",{className:"month"},c.a.createElement("thead",null,c.a.createElement("tr",null,a)),c.a.createElement("tbody",null,r))},Y=Object(i.b)((function(e){return{month:e.month}}),{prevMonth:function(e){var t=new Date(e);return t.setMonth(e.getMonth()-1),{type:"calendar/PREV_MONTH",month:t}},nextMonth:function(e){var t=new Date(e);return t.setMonth(e.getMonth()+1),{type:"calendar/NEXT_MONTH",month:t}}})((function(e){var t=e.month,n=e.nextMonth,a=e.prevMonth,r=t.getFullYear(),o=t.getMonth(),i=t.toLocaleDateString("es",{month:"long"}),l=c.a.createElement("header",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("button",{className:"navigate prevMonth",onClick:function(){return a(t)}},"\xab"),c.a.createElement("h1",{style:{textTransform:"capitalize"}},"".concat(i," ").concat(r)),c.a.createElement("button",{className:"navigate nextMonth",onClick:function(){return n(t)}},"\xbb"));return c.a.createElement("div",{id:"container"},l,c.a.createElement(P,{year:r,month:o}))})),z=(n(254),function(){return c.a.createElement(i.a,{store:R},c.a.createElement(Y,null))});Object(o.render)(c.a.createElement(z,null),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.f195fb85.chunk.js.map