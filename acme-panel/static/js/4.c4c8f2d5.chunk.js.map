{"version":3,"sources":["pages/Alarms/AlarmsList/AlarmsList.js","pages/Alarms/AlarmsList/index.js","pages/Alarms/AlarmsFilter/AlarmsFilter.js","pages/Alarms/AlarmsFilter/index.js","pages/Alarms/index.js","pages/Alarms/Alarms.js"],"names":["useStyles","makeStyles","theme","table","minWidth","actionsCol","borderLeft","palette","primary","light","width","textAlign","padding","spacing","AlarmRow","React","memo","pause","resume","deleteItem","name","source","metric","trigger","paused","classes","ActionButton","false","PauseBtn","true","ResumeBtn","TableRow","TableCell","component","scope","join","capitalize","className","size","onClickPause","onClickResume","IconButton","title","aria-label","disabled","onClick","prevProps","nextProps","id","str","String","first","rest","toUpperCase","toLowerCase","AlarmsList","alarms","onClickDelete","deleteAlarm","pauseAlarm","resumeAlarm","TableContainer","Paper","Table","TableHead","align","TableBody","map","alarm","root","display","alignItems","justifyContent","statusFilter","btns","margin","emptyFilters","AlarmsFilter","applyFilters","useState","filters","setFilters","noValidate","autoComplete","action","onSubmit","e","preventDefault","TextField","label","value","onChange","evt","target","FormControl","InputLabel","Select","labelId","MenuItem","selected","Button","variant","color","type","AlarmsPage","useAlarms","data","dispatchers","showAlarms","filter","matchName","search","matchStatus","showAlarm","Grid","item","xs","container","direction","justify","Fab"],"mappings":"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","file":"static/js/4.c4c8f2d5.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport PlayIcon from \"@material-ui/icons/PlayArrow\";\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n  },\n  actionsCol: {\n    borderLeft: `1px solid ${theme.palette.primary.light}`,\n    width: \"20%\",\n    textAlign: \"center\",\n    \"& button\": {\n      padding: theme.spacing(1),\n    },\n  },\n}));\n\nexport default function AlarmsList({\n  alarms,\n  deleteAlarm: onClickDelete,\n  pauseAlarm: onClickPause,\n  resumeAlarm: onClickResume,\n}) {\n  const classes = useStyles();\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"alarms list\" size=\"small\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Name</TableCell>\n            <TableCell>Metric&#39;s source</TableCell>\n            <TableCell>Metric</TableCell>\n            <TableCell>Trigger</TableCell>\n            <TableCell>Paused</TableCell>\n            <TableCell className={classes.actionsCol} align=\"center\">\n              Actions\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {alarms.map((alarm) => (\n            <AlarmRow\n              key={alarm.id}\n              {...alarm}\n              pause={() => onClickPause(alarm.id)}\n              resume={() => onClickResume(alarm.id)}\n              deleteItem={() => onClickDelete(alarm.id)}\n            />\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\nAlarmsList.propTypes = {\n  alarms: PropTypes.arrayOf(PropTypes.object),\n  deleteAlarm: PropTypes.func,\n  pauseAlarm: PropTypes.func,\n  resumeAlarm: PropTypes.func,\n};\n\nconst AlarmRow = React.memo(\n  function AlarmRow({\n    pause,\n    resume,\n    deleteItem,\n    name,\n    source,\n    metric,\n    trigger,\n    paused,\n  }) {\n    const classes = useStyles();\n    const actionBtns = { false: PauseBtn, true: ResumeBtn };\n    const ActionButton = actionBtns[paused];\n\n    return (\n      <TableRow>\n        <TableCell component=\"th\" scope=\"row\">\n          {name}\n        </TableCell>\n        <TableCell>{source}</TableCell>\n        <TableCell>{metric}</TableCell>\n        <TableCell>{trigger.join(\" \")}</TableCell>\n        <TableCell>{capitalize(paused)}</TableCell>\n        <TableCell className={classes.actionsCol} size=\"small\">\n          <ActionButton onClickPause={pause} onClickResume={resume} />\n          <IconButton size=\"small\" title=\"Edit\" aria-label=\"edit\" disabled>\n            <EditIcon />\n          </IconButton>\n          <IconButton\n            size=\"small\"\n            title=\"Delete\"\n            aria-label=\"delete\"\n            onClick={deleteItem}\n          >\n            <DeleteIcon />\n          </IconButton>\n        </TableCell>\n      </TableRow>\n    );\n  },\n  (prevProps, nextProps) => {\n    prevProps.id === nextProps.id;\n  }\n);\nAlarmRow.propTypes = {\n  id: PropTypes.string,\n  name: PropTypes.string,\n  source: PropTypes.string,\n  metric: PropTypes.string,\n  trigger: PropTypes.array,\n  paused: PropTypes.string,\n\n  pause: PropTypes.func,\n  resume: PropTypes.func,\n  deleteItem: PropTypes.func,\n};\n\nfunction PauseBtn({ onClickPause }) {\n  return (\n    <IconButton size=\"small\" onClick={onClickPause}>\n      <PauseIcon />\n    </IconButton>\n  );\n}\nPauseBtn.propTypes = {\n  onClickPause: PropTypes.func,\n};\n\nfunction ResumeBtn({ onClickResume }) {\n  return (\n    <IconButton size=\"small\" onClick={onClickResume}>\n      <PlayIcon />\n    </IconButton>\n  );\n}\nResumeBtn.propTypes = {\n  onClickResume: PropTypes.func,\n};\n\nfunction capitalize(str) {\n  const [first, ...rest] = [...String(str)];\n  return `${first.toUpperCase() + rest.join(\"\").toLowerCase()}`;\n}\n","import AlarmsList from \"./AlarmsList\";\nexport default AlarmsList;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: theme.spacing(3),\n  },\n  statusFilter: {\n    width: \"25ch\",\n  },\n  btns: {\n    \"& > *\": {\n      margin: theme.spacing(2),\n    },\n  },\n}));\n\nconst emptyFilters = {\n  name: \"\",\n  paused: \"\",\n};\n\nexport default function AlarmsFilter({ applyFilters }) {\n  const classes = useStyles();\n  const [filters, setFilters] = React.useState(emptyFilters);\n\n  const onChangeName = (evt) => {\n    setFilters({\n      ...filters,\n      name: evt.target.value,\n    });\n  };\n  const onChangePaused = (evt) => {\n    setFilters({\n      ...filters,\n      paused: evt.target.value,\n    });\n  };\n  const onSubmit = (e) => {\n    e.preventDefault();\n    applyFilters(filters);\n  };\n\n  const clearFilters = () => {\n    setFilters(emptyFilters);\n    applyFilters(emptyFilters);\n  };\n\n  return (\n    <Paper\n      component=\"form\"\n      noValidate\n      autoComplete=\"off\"\n      className={classes.root}\n      action=\"\"\n      onSubmit={onSubmit}\n    >\n      <TextField\n        id=\"search-alarm-name\"\n        label=\"Name\"\n        value={filters.name}\n        onChange={onChangeName}\n      />\n      <FormControl className={classes.statusFilter}>\n        <InputLabel id=\"search-alarm-status-label\">Status</InputLabel>\n        <Select\n          labelId=\"search-alarm-status-label\"\n          id=\"search-alarm-status\"\n          value={filters.paused}\n          onChange={onChangePaused}\n        >\n          <MenuItem value=\"\" selected={filters.paused === \"\"}>\n            <em>Any</em>\n          </MenuItem>\n          <MenuItem value={\"true\"} selected={filters.paused === \"true\"}>\n            Paused\n          </MenuItem>\n          <MenuItem value={\"false\"} selected={filters.paused === \"false\"}>\n            Running\n          </MenuItem>\n        </Select>\n      </FormControl>\n      <div className={classes.btns}>\n        <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n          Search\n        </Button>\n        <IconButton variant=\"outlined\" onClick={clearFilters} type=\"button\">\n          <ClearIcon />\n        </IconButton>\n      </div>\n    </Paper>\n  );\n}\n\nAlarmsFilter.propTypes = {\n  applyFilters: PropTypes.func,\n};\n","import AlarmsFilter from \"./AlarmsFilter\";\nexport default AlarmsFilter;\n","import AlarmsPage from \"./Alarms\";\nexport default AlarmsPage;\n","import { useState } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AlarmsList from \"./AlarmsList\";\nimport AlarmsFilter from \"./AlarmsFilter\";\nimport { useAlarms } from \"../../shell/alarmsContext\";\n\nconst showAlarm = (alarm, filters) => {\n  const { name, paused } = alarm;\n  const matchName =\n    filters.name === \"\" ? true : name.search(filters.name) !== -1;\n  const matchStatus = filters.paused === \"\" ? true : paused === filters.paused;\n  return matchName && matchStatus;\n};\nexport default function AlarmsPage() {\n  const { data: alarms, ...dispatchers } = useAlarms();\n\n  const [filters, setFilters] = useState({\n    name: \"\",\n    paused: \"\",\n  });\n\n  const showAlarms = alarms.filter((alarm) => showAlarm(alarm, filters));\n\n  return (\n    <>\n      <Grid item xs={12}>\n        <AlarmsFilter applyFilters={setFilters} />\n      </Grid>\n      <Grid item xs={12}>\n        <AlarmsList alarms={showAlarms} {...dispatchers} />\n      </Grid>\n      <Grid container direction=\"row\" justify=\"flex-end\">\n        <Grid item>\n          <Fab color=\"primary\" aria-label=\"add\" disabled>\n            <AddIcon />\n          </Fab>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n"],"sourceRoot":""}